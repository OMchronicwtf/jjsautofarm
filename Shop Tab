-- ShopTabModule.lua
return function(Window, Event)
    -- Create Shop tab
    local ShopTab = Window:CreateTab("Shop", "shopping-cart") -- Icon can be Lucide string

    -- Section for Shop
    local ShopSection = ShopTab:CreateSection("Shop")

    -- Hardcoded dropdown options
    local dropdownOptions = {
        "MV1 | Explosive Bomb",
        "MV2 | Construction",
        "MV3 | Rubber",
        "MV9 | Vital Arts",
        "MV8 | Turbo Soul",
        "MV14 | Sakura Blossom",
        "MV5 | Light",
        "MV6 | Star Guardian",
        "MV7 | Ice",
        "MV15 | Flame Breathing",
        "MV10 | Infinity",
        "MV12 | Monarch",
        "MV11 | Vessel",
        "MV13 | Spectral Reaper"
    }

    local selectedItem = nil

    -- Dropdown for selecting item
    ShopSection:CreateDropdown({
        Name = "Select Item",
        Options = dropdownOptions,
        CurrentOption = {},
        MultipleOptions = false,
        Flag = "ShopDropdown",
        Callback = function(option)
            selectedItem = option:match("^(%w+)")
        end
    })

    -- Purchase button
    ShopSection:CreateButton({
        Name = "Purchase",
        Callback = function()
            if selectedItem then
                Event:FireServer({
                    Item = selectedItem,
                    Type = "StockBuy"
                })
                Rayfield:Notify({
                    Title = "Shop",
                    Content = "Purchased: " .. selectedItem,
                    Duration = 4,
                    Image = "shopping-cart"
                })
            else
                Rayfield:Notify({
                    Title = "Shop",
                    Content = "No item selected!",
                    Duration = 4,
                    Image = "alert-circle"
                })
            end
        end
    })

    return ShopTab
end
