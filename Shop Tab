-- =======================
-- Shop Tab Module
-- =======================

return function(Window, player, QuestEvent, quests, RunService)
    -- Create the Shop Tab
    local ShopTab = Window:CreateTab("Shop", "shopping-bag") -- Using Lucide icon for shop theme

    -- Create a Section for organization
    ShopTab:CreateSection("Shop Features")

    -- Simple Dropdown - Currently empty options, as requested
    local ItemDropdown = ShopTab:CreateDropdown({
        Name = "Select Item",
        Options = {}, -- Empty for now, as it "doesnt currently have anything yet"
        CurrentOption = {},
        MultipleOptions = false,
        Flag = "ShopItemDropdown",
        Callback = function(Options)
            -- Placeholder callback; add shop logic here later (e.g., set selected item)
            print("Selected item(s):", table.concat(Options, ", "))
        end,
    })

    -- Button underneath the Dropdown
    local BuyButton = ShopTab:CreateButton({
        Name = "Buy Selected Item",
        Callback = function()
            -- Placeholder callback; add actual buy logic here later (e.g., fire remote with selected item)
            local selected = ItemDropdown.CurrentOption[1] or "None"
            print("Attempted to buy: " .. selected .. " (Placeholder)")
            -- Note: To add a notification later, pass Rayfield as a param to this module and use it here
        end,
    })

    -- Optional: Add a divider if needed later
    -- ShopTab:CreateDivider()

    return ShopTab -- Return the tab reference to match other modules
end
