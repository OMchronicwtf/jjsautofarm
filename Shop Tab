-- =======================
-- Shop Tab Module
-- =======================
local ShopModule = {}

function ShopModule:Init(Window, player, QuestEvent, quests, RunService)
    -- Create the Shop Tab
    local ShopTab = Window:CreateTab("Shop", 4483362458) -- Using a default image ID; replace with Lucide icon string like "shopping-bag" if desired

    -- Create a Section for organization
    local Section = ShopTab:CreateSection("Shop Features")

    -- Simple Dropdown (button-like) - Currently empty options, as requested
    local ItemDropdown = ShopTab:CreateDropdown({
        Name = "Select Item",
        Options = {}, -- Empty for now, as it "doesnt currently have anything yet"
        CurrentOption = {},
        MultipleOptions = false,
        Flag = "ShopItemDropdown",
        Callback = function(Options)
            -- Placeholder callback; add shop logic here later (e.g., set selected item)
            print("Selected item(s):", table.concat(Options, ", "))
        end,
    })

    -- Button underneath the Dropdown
    local BuyButton = ShopTab:CreateButton({
        Name = "Buy Selected Item",
        Callback = function()
            -- Placeholder callback; add actual buy logic here later (e.g., fire remote with selected item)
            local selected = ItemDropdown.CurrentOption[1] or "None"
            Rayfield:Notify({
                Title = "Shop Action",
                Content = "Attempted to buy: " .. selected .. " (Placeholder)",
                Duration = 3,
                Image = 4483362458, -- Default image
            })
        end,
    })

    -- Optional: Add a divider or label if needed later
    -- ShopTab:CreateDivider()

    return ShopTab -- Return the tab reference if needed by main script
end

return ShopModule:Init
